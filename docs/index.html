Calculadora Hablada de Combustible :root { --primary: #0066ff; --on-primary: #fff; --bg: #f0f4f8; --surface: #ffffff; --text: #333; --radius: 0.5rem; --transition: 0.3s; } [data-theme="dark"] { --bg: #1e1e1e; --surface: #2e2e2e; --text: #ddd; } * { box-sizing: border-box; margin: 0; padding: 0; } body { background: var(--bg); font-family: 'Segoe UI', sans-serif; color: var(--text); display: flex; flex-direction: column; align-items: center; justify-content: flex-start; min-height: 100vh; padding: 2rem; transition: background var(--transition), color var(--transition); } h1 { font-size: 1.6rem; margin-bottom: 1rem; text-align: center; } #controls { display: flex; gap: 1rem; margin-bottom: 1rem; } button { background: var(--primary); color: var(--on-primary); border: none; padding: 1rem 1.5rem; font-size: 1rem; border-radius: var(--radius); cursor: pointer; transition: transform var(--transition); display: flex; align-items: center; gap: 0.5rem; } button:active { transform: scale(0.95); } #btnListen.listening { background: #ff3333; } #status { margin-top: 0.5rem; } #interim { font-style: italic; opacity: 0.7; margin-top: 0.5rem; } #resultado { margin-top: 1.5rem; background: var(--surface); padding: 1rem; border-radius: var(--radius); box-shadow: 0 2px 5px rgba(0,0,0,0.1); max-width: 90%; text-align: center; min-height: 3rem; transition: background var(--transition), color var(--transition); } #settings { margin-top: 1rem; display: flex; gap: 1rem; } input, label { font-size: 0.9rem; } #graph { margin-top:1rem; width: 90%; height: 10px; background:#ccc; border-radius:5px; overflow:hidden; } #bar { height:100%; width:0%; background: var(--primary); transition: width 1s ease; } #copy { margin-top:1rem; font-size:0.9rem; } #themeToggle { background: var(--surface); color: var(--text); } #spinner { display:none; border: 4px solid var(--surface); border-top:4px solid var(--primary); border-radius:50%; width:24px; height:24px; animation:spin 1s linear infinite; margin-left:0.5rem; } @keyframes spin { to{ transform:rotate(360deg);} } ðŸŽ™ï¸ Calculadora Hablada de Combustible 

ðŸ”Š Empezar a escuchar ðŸ“‹ Copiar ðŸŒ“ 

Estado: Inactivo

Consumo: km/L Capacidad: L 

Di: "Precio X coma Y y me quedan Z kilÃ³metros" 

const btn = document.getElementById('btnListen'); const copyBtn = document.getElementById('copy'); const themeToggle = document.getElementById('themeToggle'); const statusEl = document.getElementById('status'); const interimEl = document.getElementById('interim'); const resultEl = document.getElementById('resultado'); const consumoInput = document.getElementById('consumo'); const capacidadInput = document.getElementById('capacidad'); const bar = document.getElementById('bar'); const spinner = document.getElementById('spinner'); let finalText = ''; let recog; try { recog = new (window.SpeechRecognition||window.webkitSpeechRecognition)(); } catch(e) { statusEl.textContent='Reconocimiento no soportado'; btn.disabled=true; } if (recog) { recog.lang='es-ES'; recog.interimResults=true; recog.continuous=false; recog.onstart = ()=>{ statusEl.textContent='Escuchando...'; spinner.style.display='inline-block'; btn.classList.add('listening'); }; recog.onend = ()=>{ statusEl.textContent='Procesando...'; spinner.style.display='none'; btn.classList.remove('listening'); process(finalText); }; recog.onresult = e=>{ interimEl.textContent='"'+Array.from(e.results).map(r=>r[0].transcript).join(' ')+'"'; finalText = e.results[0].isFinal? e.results[0][0].transcript : finalText; }; recog.onerror = e=>{ statusEl.textContent='Error: '+e.error; spinner.style.display='none'; btn.classList.remove('listening'); }; } btn.onclick = ()=>{ finalText=''; interimEl.textContent=''; resultEl.textContent=''; bar.style.width='0%'; recog.start(); }; copyBtn.onclick = ()=>{ navigator.clipboard.writeText(resultEl.textContent); alert('Copiado al portapapeles'); }; themeToggle.onclick = ()=>{ const dt = document.body.getAttribute('data-theme'); document.body.setAttribute('data-theme', dt==='light'?'dark':'light'); }; function process(text) { const precioKm = text.match(/\d+([.,]\d+)?/g); const consumo = parseFloat(consumoInput.value), cap=parseFloat(capacidadInput.value); if(!precioKm||precioKm.length 
